<!DOCTYPE html>
<html class="no-js" lang="en"> 
    <head>
        <title></title>
        <style>
            html,body {
                width: 100%; height: 100%;
            }
            body { background-color: #858585; overflow: hidden;}
    
            .ballCon {
                position: relative;
                width:100%;
                height: 100%;
                filter : url(#goo);
                -webkit-filter : url(#goo);

            }
            .ball {
                position: absolute;
                width: 50px; height: 50px;
                left: 50%; top: 50%;
                margin-top: -25px; margin-left: -25px;
                border-radius: 50%;
                border: none;
                background-color: #9FE2FF;
                overflow: hidden;
                text-align: center;
                color : white;
                text-transform: uppercase;
            }

            #ball2 {
                /*left: 100px;*/
            }

        </style>
    </head>
    <script src="js/modernizr.custom.min.js"></script>
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>

    <body>
        <article class="ballCon">
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
            <div class="ball"></div>
        </article>
        
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800">
          <defs>
            <filter id="goo">
              <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
              <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo" />
              <feComposite in="SourceGraphic" in2="goo" operator="atop"/>
            </filter>
          </defs>
        </svg>

        <script>
            $(document).ready(function(){
                var bs = $('.ball');
                bs.append('<p>i</p>')
                var length = bs.length,
                    r = (360/length)*Math.PI/180;

                var t = 0;
                function render(){
                    t+= 0.01

                    var scale = 100;//Math.cos(t*2)*150;
                    bs.each(function(i){
                        var b = $(this);
                        var x = Math.cos((i*r))*(scale*Math.cos(t)),
                            y = Math.sin((i*r))*(scale*Math.cos(t))

                        b.css(translate(x+'px',y+'px',1));
                        if(i==0)console.log(scale*Math.cos(t));
                    });

                    requestAnimationFrame(render);
                }

                requestAnimationFrame(render);

                function translate(x,y,scale){
                    var css = 'translateX('+x+') translateY('+y+') scale('+scale+')' ;
                    return { 'transform' : css, '-webkit-transform' : css };
                }
                // render()
            });
        </script>
    </body>
</html>